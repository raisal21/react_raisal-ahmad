<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <style>
        header {
          box-shadow: 0px 1px 8px 0px #00000033;
        }
        .simple-header {
          font-family: Roboto;
          font-size: 24px;
          font-weight: 500;
          line-height: 28.13px;
          letter-spacing: -0.3199999928474426px;
          text-align: left;
          color: #212529;
        }

        .bootstrap-icon {
          width: 72px;
          height: 57px;
          top: 48px;
          left: 432px;
          padding: 0px 0.24px 0px 0.24px;
        }

        .create-product {
          font-family: Roboto;
          font-size: 31px;
          font-weight: 500;
          line-height: 38.4px;
          text-align: center;
          color: #212529;
        }
        
        .text-create-product {
          font-family: Roboto;
          font-size: 18px;
          font-weight: 300;
          color: #212529;
          text-align: center;
        }

        h2 {
          font-family: Roboto;
          font-size: 23px;
          font-weight: 500;
          line-height: 28.8px;
          text-align: left;
        }

        .product {
          width: 282px;
          height: 36px;
          top: 33px;
          left: 9px;
          border-radius: 4px 0px 0px 0px;
          border: 1px 0px 0px 0px;
        }
        
        #error-message-name, #error-message-price {
          font-size: small;
          color:red; 
          display:none;
          width: auto !important;
        }
       

        input[type="file"]::file-selector-button {
          font-weight: bold;
          color: white;
          background-color: #0D6EFD;
        }

        #product-description {
          width: 564px;
          height: 116px;
        }

        #product-price, 
        #button-submit {
          width: 564px;
        }
        
        .productTable {
          width: fit-content;
        }
    </style>
    <title>Landing Pages</title>
</head>
<body>
    <header class="row justify-content-between px-4 pt-3 pb-2 mb-4 border-bottom">
      <a href="/" class="col-auto mr-auto simple-header text-decoration-none">
          <span>
            Simple Header
          </span>
      </a>
      
      <ul class="col-auto nav nav-pills">
          <li class="nav-item">
            <a href="#" class="nav-link active" aria-current="page">
              Home
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              Features
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              Pricing
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              FAQs
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              About
            </a>
          </li>
      </ul>
    </header>

    <section class="col-md-12 text-center mb-4">
        <img class="bootstrap-icon" src="../assets/img/bootstrap-logo-shadow.png" alt="Bootstrap 5 Icon">
        <h1 class="create-product mt-3">
          Create Product
        </h1>
        <p class="col-md-8 offset-md-2 text-create-product">
          Below is an example form built entirely with Bootstrapâ€™s form controls. 
          Each required form group has a validation state that can be triggered 
          by attempting to submit the form without completing it.
        </p>
    </section>

    <form class="col-md-6 offset-md-3" id="form-create-product" name="form-create-product" onsubmit="return validateForm()"> 
        <h2 class="mb-4">
          Detail Product
        </h2>

        <div class="product mb-5">
          <label class="form-label" for="product-name">
            Product Name
          </label>
          <input type="text" id="product-name" name="product-name" class="form-control"/>
        </div><br>

        <div class="product mb-5">
          <label for="category" class="form-label">
            Product Category
          </label>
          <select class="form-select" id="category" name="category">
            <option value="">Choose...</option>
            <option value="Electronics">Electronics</option>
            <option value="Clothing">Clothing</option>
            <option value="Home">Home</option>
            <option value="Other">Other</option>
          </select>
          <div class="invalid-feedback">
            Please select a valid category.
          </div>
        </div><br>

        <div class="mb-5">
          <label for="country" class="form-label">
             Product Freshness
          </label>
         
          <div class="form-check-invalid">
             <input class="form-check-input" type="radio" name="product-freshness" id="Brand New" value="Brand New">
             <label class="form-check-label" for="Brand New">
               Brand New
             </label>
          </div>
         
          <div class="form-check">
             <input class="form-check-input" type="radio" name="product-freshness" id="second-hand" value="Second Hand">
             <label class="form-check-label" for="second-hand">
               Second Hand
             </label>
          </div>
         
          <div class="form-check">
             <input class="form-check-input" type="radio" name="product-freshness" id="refurbished" value="Refurbished">
             <label class="form-check-label" for="refurbished">
               Refurbished
             </label>
          </div>
         </div>         

        <div class="mb-5">
          <label class="form-label" for="product-description">
            Additional Description:
          </label>
          <textarea class="form-control" id="product-description" name="product_description"></textarea>
        </div>

        <div class="mb-5">
          <label class="form-label" for="product-price">Product Price</label>
          <input class="form-control" type="text" id="product-price" name="product-price" placeholder="$ 1"> 
          <div class="invalid-feedback">
            Please enter a valid product price (numbers only).
          </div>
        </div>

        <div>
          <button class="btn btn-primary" type="submit" id="button-submit" value="Submit" name="submit">Submit</button>
        </div>
    </form>
    <section class="mt-5">
      <h1 class="create-product">
        List Product
      </h1>
    </section>
    <div class="ml-5">
      <table class="table table-striped center" id="productTable" style="width: fit-content; margin-left: 20%;">
        <thead class="border">
          <tr>
            <th>No</th>
            <th>Product Name</th>
            <th>Product Category</th>
            <th>Product Freshness</th>
            <th>Additional Description</th>
            <th>Product Price</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
</body>
<script>
  const formProduk = document.getElementById('form-create-product');
  const tableProduk = document.querySelector('tbody');
  const dataProduk = [];
 
  const errorMessage1 = document.createElement('div');
  errorMessage1.id = 'error-message-name';
  errorMessage1.style.display = 'none';
 
  const errorMessage2 = document.createElement('div');
  errorMessage2.id = 'error-message-price';
  errorMessage2.style.display = 'none';
 
  document.getElementById('product-name').parentNode.appendChild(errorMessage1);
  document.getElementById('product-price').parentNode.appendChild(errorMessage2);
 
  const productNameInput = document.getElementById('product-name');
  const productPriceInput = document.getElementById('product-price');
 
  productNameInput.addEventListener('input', () => {
       const name = productNameInput.value;
       const errorMessage1 = document.getElementById('error-message-name');
       let errorMessage = '';
       if (name.length > 25) {
         errorMessage = "Product name mustn't exceed 25 characters.";
       } else if (name.length < 4) {
         errorMessage = "Product name mustn't be less than 4 character.";
       } else if (/[@/#{}]/.test(name)) {
         errorMessage = "Product name must not contain symbols";
       }
       if (errorMessage) {
         productNameInput.style.borderColor = 'red';
         errorMessage1.style.display = 'block';
         errorMessage1.textContent = errorMessage;
       } else {
         productNameInput.style.borderColor = '';
         errorMessage1.style.display = 'none';
       }
  });
 
  productPriceInput.addEventListener('input', () => {
     const priceValue = productPriceInput.value;
     const errorMessage2 = document.getElementById('error-message-price');
     let errorMessage = '';
     if (!priceValue || isNaN(Number(priceValue))) {
       errorMessage = "Price must be a valid number.";
     }
     if (errorMessage) {
       productPriceInput.style.borderColor = 'red';
       errorMessage2.style.display = 'block';
       errorMessage2.textContent = errorMessage;
     } else {
       productPriceInput.style.borderColor = '';
       errorMessage2.style.display = 'none';
     }
  });
 
  function validateForm() {
     const form = document.forms["form-create-product"];
     const requiredFields = ["product-name", "category", "product-price"];
     const freshnessOptions = document.getElementsByName("product-freshness");
     let freshnessSelected = false;
     let errorMessage = '';
 
     for (const field of requiredFields) {
         if (form[field].value === "") {
           errorMessage = "Please fill out all required fields";
           break;
         }
     }
 
     for (let i = 0; i < freshnessOptions.length; i++) {
         if (freshnessOptions[i].checked) {
           freshnessSelected = true;
           break;
         }
     }
     if (!freshnessSelected) {
         errorMessage = "Please fill out all required fields";
     }
 
     if (errorMessage) {
       alert(errorMessage);
       return false;
     }
 
     return true;
  }

  document.getElementById('form-create-product').addEventListener('submit', function(event) {
    event.preventDefault(); // Mencegah aksi default form submission

    // Mengambil data dari form
    const productName = document.getElementById('product-name').value;
    const productCategory = document.getElementById('category').value;
    const productFreshnessRadios = document.querySelectorAll('input[name="product-freshness"]');
    let productFreshness = ''; // Inisialisasi variabel untuk menyimpan nilai dari radio button yang dipilih
    productFreshnessRadios.forEach(radio => {
        if (radio.checked) {
            productFreshness = radio.value; // Menyimpan nilai dari radio button yang dipilih
        }
    });
    const productDescription = document.getElementById('product-description').value;
    const productPrice = document.getElementById('product-price').value;

    // Menambahkan data ke tabel
    const tableBody = document.getElementById('productTable').getElementsByTagName('tbody')[0];
    const newRow = tableBody.insertRow();
    
    // Menghitung jumlah baris yang sudah ada di <tbody>
    const rowNumber = tableBody.rows.length ++;
    const formattedRowNumber = rowNumber.toString().padStart(4, '0');

    newRow.innerHTML = `<td>${formattedRowNumber}</td><td>${productName}</td><td>${productCategory}</td><td>${productFreshness}</td><td>${productDescription}</td><td>${productPrice}</td>`;
});
 </script> 
</html>